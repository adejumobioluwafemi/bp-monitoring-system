schema: '2.0'
stages:
  prepare_data:
    cmd: python src/applications/prepare_data.py
    deps:
    - path: data/raw/Hypertension_Data_Set.csv
      hash: md5
      md5: 111a3f8d8e91e2e3c7655ed30a805d12
      size: 353313
    - path: src/applications/prepare_data.py
      hash: md5
      md5: 9de0ef0f4cb6ff1fb7bb144925671939
      size: 4325
    - path: src/data_layer/data_connector.py
      hash: md5
      md5: 11ec435b564645f464cd19bb5ce65be1
      size: 1284
    - path: src/ml/data_processor.py
      hash: md5
      md5: ae602b2f7ab0c760d272d470ca373f1d
      size: 10612
    params:
      params.yaml:
        prepare.random_state: 42
        prepare.test_size: 0.2
        prepare.val_size: 0.1
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: 7ac9696fbc8ec71b96dc72d181e116af
      size: 68788
    - path: data/processed/train.csv
      hash: md5
      md5: 9bbcee0ab90bc66951096014604c9e86
      size: 240354
    - path: data/processed/val.csv
      hash: md5
      md5: 39cca104999f3b215c18b601cd300f6c
      size: 34408
    - path: reports/data_metrics.json
      hash: md5
      md5: 52e4000f886d7f54580b430bc0fbb1c6
      size: 1278
  validate_data:
    cmd: python src/applications/validate_data.py
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: 7ac9696fbc8ec71b96dc72d181e116af
      size: 68788
    - path: data/processed/train.csv
      hash: md5
      md5: 9bbcee0ab90bc66951096014604c9e86
      size: 240354
    - path: data/processed/val.csv
      hash: md5
      md5: 39cca104999f3b215c18b601cd300f6c
      size: 34408
    - path: src/applications/validate_data.py
      hash: md5
      md5: 2a80d4272946def0750891df1d94a358
      size: 5822
    outs:
    - path: data/processed/test_clean.csv
      hash: md5
      md5: 7ac9696fbc8ec71b96dc72d181e116af
      size: 68788
    - path: data/processed/train_clean.csv
      hash: md5
      md5: 9bbcee0ab90bc66951096014604c9e86
      size: 240354
    - path: data/processed/val_clean.csv
      hash: md5
      md5: 39cca104999f3b215c18b601cd300f6c
      size: 34408
    - path: reports/data_validation_report.json
      hash: md5
      md5: ca7a825758bae659a503b5fb27ebf7e8
      size: 822
  train_model:
    cmd: python src/applications/training.py --train-only
    deps:
    - path: data/processed/train_clean.csv
      hash: md5
      md5: 9bbcee0ab90bc66951096014604c9e86
      size: 240354
    - path: data/processed/val_clean.csv
      hash: md5
      md5: 39cca104999f3b215c18b601cd300f6c
      size: 34408
    - path: src/applications/training.py
      hash: md5
      md5: 56e642489200a7301d1772a51a480637
      size: 4885
    - path: src/ml/cross_validator.py
      hash: md5
      md5: ec44ef7bad78b8ad852d11e03bc1e803
      size: 15175
    - path: src/ml/data_processor.py
      hash: md5
      md5: ae602b2f7ab0c760d272d470ca373f1d
      size: 10612
    - path: src/ml/model.py
      hash: md5
      md5: d9ba04f6af631259dfcf757612ab6c00
      size: 8924
    - path: src/ml/training_pipeline.py
      hash: md5
      md5: db6c073f0b086195071cbe7e1f4dec7b
      size: 8363
    params:
      params.yaml:
        model.logistic_regression.C: 1.0
        model.logistic_regression.max_iter: 1000
        model.model_type: random_forest
        model.random_forest.max_depth: 10
        model.random_forest.n_estimators: 100
        model.random_state: 42
    outs:
    - path: models_chpt/hypertension_model.pkl
      hash: md5
      md5: 948ef5acbb2b00726d17a2758c584cb2
      size: 1159579
    - path: reports/training_metrics.json
      hash: md5
      md5: e0e303abf7996b0a2202229dca756ce6
      size: 1390
